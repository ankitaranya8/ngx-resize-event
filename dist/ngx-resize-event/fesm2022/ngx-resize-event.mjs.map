{"version":3,"file":"ngx-resize-event.mjs","sources":["../../../projects/ngx-resize-event/src/lib/ngx-resize-event.directive.ts","../../../projects/ngx-resize-event/src/lib/ngx-resize-event.module.ts","../../../projects/ngx-resize-event/src/public-api.ts","../../../projects/ngx-resize-event/src/ngx-resize-event.ts"],"sourcesContent":["import { Directive, ElementRef, Output, EventEmitter, OnDestroy, NgZone } from '@angular/core';\n\nexport class ResizedEvent {\n  public newRect: DOMRectReadOnly;\n  public oldRect?: DOMRectReadOnly;\n  public isFirst: boolean;\n\n  constructor(newRect: DOMRectReadOnly, oldRect?: DOMRectReadOnly) {\n    this.newRect = newRect;\n    this.oldRect = oldRect;\n    this.isFirst = oldRect == null;\n  }\n}\n\n@Directive({\n  selector: '[ngxResize]'\n})\nexport class NgxResizeEventDirective {\n\n  @Output() ngxResize: EventEmitter<ResizedEvent> = new EventEmitter();\n\n  private resizeObserver: ResizeObserver | null = null;\n  private oldRect: DOMRectReadOnly | undefined;\n\n\n  constructor(private elementRef: ElementRef, private ngZone: NgZone) {}\n\n  ngAfterViewInit() {\n    this.ngZone.runOutsideAngular(() => {\n      this.resizeObserver = new ResizeObserver(entries => {\n        entries.forEach(entry => {\n          const newRect = entry.contentRect;\n          const resizedEvent = new ResizedEvent(newRect, this.oldRect);\n          this.ngxResize.emit(resizedEvent);\n          this.oldRect = newRect;\n        });\n      });\n\n      this.resizeObserver.observe(this.elementRef.nativeElement);\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxResizeEventDirective } from './ngx-resize-event.directive';\n\n\n\n@NgModule({\n  declarations: [NgxResizeEventDirective],\n  imports: [\n    CommonModule\n  ],\n  exports:[NgxResizeEventDirective]\n})\nexport class NgxResizeEventModule { }\n","/*\n * Public API Surface of ngx-resize-event\n */\n\nexport { ResizedEvent } from './lib/ngx-resize-event.directive';\nexport * from './lib/ngx-resize-event.directive';\nexport * from './lib/ngx-resize-event.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}